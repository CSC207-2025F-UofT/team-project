Index: users.csv
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>username,password\nyuan,yuan\nhayato,HaKu\ntina,tina\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/users.csv b/users.csv
--- a/users.csv	(revision a565a390cfa3dd6b26a00c924be3162f165a9ff9)
+++ b/users.csv	(date 1763363235495)
@@ -1,4 +1,5 @@
 username,password
-yuan,yuan
+123,123
+tinaa,tinaa
 hayato,HaKu
 tina,tina
Index: src/main/java/view/SearchUserView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package view;\n\nimport interface_adapter.ViewManagerModel;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SearchUserView extends JPanel implements ActionListener, PropertyChangeListener {\n\n    public final String viewName = \"new chat\";\n    private final ViewManagerModel viewManagerModel;\n\n    // UI Components\n    private final JTextField searchInputField;\n    private final JButton searchExitButton;\n    private final JButton startChatButton;\n    private final JPanel userListPanel; // Container for dynamic checkboxes/users\n\n    public SearchUserView (ViewManagerModel viewManagerModel) {\n        this.viewManagerModel = viewManagerModel;\n        this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        this.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n\n        JPanel searchPanel = new JPanel();\n        searchPanel.setLayout(new BoxLayout(searchPanel, BoxLayout.X_AXIS));\n\n        JLabel searchLabel = new JLabel(\"Search for User: \");\n        searchInputField = new JTextField(20);\n\n        // Exit/Cancel Button\n        searchExitButton = new JButton(\"X\"); // Using Unicode X for the button\n        searchExitButton.setFont(new Font(\"Oxygen\", Font.BOLD, 16));\n        searchExitButton.setFocusPainted(false);\n        searchExitButton.setBorderPainted(false);\n        searchExitButton.setContentAreaFilled(false);\n\n        searchPanel.add(searchLabel);\n        searchPanel.add(searchInputField);\n        searchPanel.add(Box.createHorizontalStrut(5));\n        searchPanel.add(searchExitButton);\n\n        searchPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\n        searchPanel.setMaximumSize(new Dimension(Integer.MAX_VALUE, searchPanel.getPreferredSize().height));\n\n\n        userListPanel = new JPanel();\n        userListPanel.setLayout(new BoxLayout(userListPanel, BoxLayout.Y_AXIS));\n\n        // Placeholder Users\n        addPlaceholderUsers(new String[]{\"User1\", \"User2\", \"User3\", \"User4\", \"User5\"}); // Temporary list of users\n\n        JScrollPane scrollPane = new JScrollPane(userListPanel);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        scrollPane.setBorder(BorderFactory.createEmptyBorder());\n\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        startChatButton = new JButton(\"Start Chat\");\n        buttonPanel.add(startChatButton);\n\n        // Listeners\n        startChatButton.addActionListener(this);\n        searchExitButton.addActionListener(this);\n\n        // Assembly\n        this.add(searchPanel);\n        this.add(Box.createVerticalStrut(10));\n        this.add(scrollPane);\n        this.add(buttonPanel);\n    }\n\n    /**\n     * Helper to create placeholder users with checkboxes.\n     */\n    private void addPlaceholderUsers(String[] users) {\n        for (String user : users) {\n            JCheckBox checkBox = new JCheckBox(user);\n            checkBox.setAlignmentX(Component.LEFT_ALIGNMENT);\n            userListPanel.add(checkBox);\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent evt) {\n        if (evt.getSource().equals(searchExitButton)) {\n            // \"Exit button to return to the home screen\" (which is LoggedInView)\n            viewManagerModel.setState(\"logged in\");\n            viewManagerModel.firePropertyChange();\n        } else if (evt.getSource().equals(startChatButton)) {\n            // Start Chat logic (currently does nothing)\n\n\n            // For now, assume a single user is always selected (or just navigate)\n            // Real implementation requires checking checkboxes, but for now, we navigate.\n\n            // Navigate to the ChatView\n            viewManagerModel.setState(\"chat\");\n            viewManagerModel.firePropertyChange();\n\n            // Previous placeholder (remove or comment out):\n            // JOptionPane.showMessageDialog(this, \"Starting chat with selected users (Not yet implemented)\");\n        }\n    }\n\n    @Override\n    public void propertyChange(PropertyChangeEvent evt) {\n        // Will be used to update the user list based on search results\n    }\n\n    public String getViewName() {\n        return viewName;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/view/SearchUserView.java b/src/main/java/view/SearchUserView.java
--- a/src/main/java/view/SearchUserView.java	(revision a565a390cfa3dd6b26a00c924be3162f165a9ff9)
+++ b/src/main/java/view/SearchUserView.java	(date 1763363235502)
@@ -21,6 +21,7 @@
     private final JButton searchExitButton;
     private final JButton startChatButton;
     private final JPanel userListPanel; // Container for dynamic checkboxes/users
+    private final List<JCheckBox> userCheckboxes = new ArrayList<>();
 
     public SearchUserView (ViewManagerModel viewManagerModel) {
         this.viewManagerModel = viewManagerModel;
@@ -61,11 +62,14 @@
 
         JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));
         startChatButton = new JButton("Start Chat");
+        startChatButton.setEnabled(false);
         buttonPanel.add(startChatButton);
 
         // Listeners
         startChatButton.addActionListener(this);
         searchExitButton.addActionListener(this);
+        checkBox.addActionListener(e -> updateButton());
+
 
         // Assembly
         this.add(searchPanel);
@@ -79,19 +83,56 @@
      */
     private void addPlaceholderUsers(String[] users) {
         for (String user : users) {
+
             JCheckBox checkBox = new JCheckBox(user);
-            checkBox.setAlignmentX(Component.LEFT_ALIGNMENT);
+
+            // add to list
+            userCheckboxes.add(checkBox);
+
+            // correctly attach listener
+            checkBox.addActionListener(e -> updateButton());
+
             userListPanel.add(checkBox);
         }
     }
 
+
+    private void updateButton() {
+        int selectedCount = 0;
+
+        for (JCheckBox cb : userCheckboxes) {
+            if (cb.isSelected()) selectedCount++;
+        }
+
+        startChatButton.setEnabled(selectedCount > 0);
+
+        // OPTIONAL: Change button text automatically
+        if (selectedCount == 1) {
+            startChatButton.setText("Start Chat");
+            startChatButton.setEnabled(true);
+
+        } else if (selectedCount >= 2) {
+            startChatButton.setText("Start Group Chat");
+            startChatButton.setEnabled(true);
+        }
+    }
+
+
     @Override
     public void actionPerformed(ActionEvent evt) {
-        if (evt.getSource().equals(searchExitButton)) {
+        if (evt.getSource().equals(startChatButton)) {
+            List<String> selectedUsers = new ArrayList<>();
+
+            for (JCheckBox cb : userCheckboxes) {
+                if (cb.isSelected()) {
+                    selectedUsers.add(cb.getText());
+                }
+            }
+
             // "Exit button to return to the home screen" (which is LoggedInView)
-            viewManagerModel.setState("logged in");
-            viewManagerModel.firePropertyChange();
-        } else if (evt.getSource().equals(startChatButton)) {
+//            viewManagerModel.setState("logged in");
+//            viewManagerModel.firePropertyChange();
+            // else if (evt.getSource().equals(startChatButton)) {
             // Start Chat logic (currently does nothing)
 
 
@@ -99,7 +140,21 @@
             // Real implementation requires checking checkboxes, but for now, we navigate.
 
             // Navigate to the ChatView
-            viewManagerModel.setState("chat");
+//            viewManagerModel.setState("chat");
+//            viewManagerModel.firePropertyChange();
+
+            if (selectedUsers.size() == 1) {
+                // Start 1-on-1 chat
+                startChatButton.setEnabled(true);
+                System.out.println("Start chat with: " + selectedUsers.get(0));
+                viewManagerModel.setState("chat");
+            } else {
+                // Start group chat
+                startChatButton.setEnabled(true);
+                System.out.println("Start group chat with: " + selectedUsers);
+                viewManagerModel.setState("groupchat");
+            }
+
             viewManagerModel.firePropertyChange();
 
             // Previous placeholder (remove or comment out):
